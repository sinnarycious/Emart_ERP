DROP TABLE ATTACHMENT CASCADE CONSTRAINTS;
DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE EVENT CASCADE CONSTRAINTS;
DROP TABLE CATEGORY CASCADE CONSTRAINTS;
DROP TABLE PRODUCT CASCADE CONSTRAINTS;
DROP TABLE INV CASCADE CONSTRAINTS;
DROP TABLE ORDER_ENTER CASCADE CONSTRAINTS;
DROP TABLE SALE CASCADE CONSTRAINTS;





CREATE TABLE ATTACHMENT (
    ATT_NO NUMBER CONSTRAINT PK_ATT PRIMARY KEY,
    ATT_NAME VARCHAR2(300) NOT NULL
);

CREATE TABLE MEMBER (
    USER_NO NUMBER CONSTRAINT PK_MEMBER PRIMARY KEY,
    USER_ID VARCHAR2(50) NOT NULL UNIQUE,
    USER_PWD VARCHAR2(100) NOT NULL,
    USER_RNO VARCHAR2(150) NOT NULL UNIQUE,
    USER_NAME VARCHAR2(150) NOT NULL,
    USER_EMAIL VARCHAR2(150) NOT NULL,
    USER_PHONE VARCHAR2(30) NOT NULL,
    USER_BRANCH VARCHAR2(150) NOT NULL,
    USER_OPENDATE DATE NOT NULL,
    USER_ATT_NO NUMBER NULL CONSTRAINT FK_MEMBER_ATT REFERENCES ATTACHMENT
);

CREATE TABLE EVENT (
    EVNT_NO NUMBER CONSTRAINT PK_EVENT PRIMARY KEY,
    EVNT_TITLE VARCHAR2(150) NOT NULL,
    EVNT_CONTENT VARCHAR2(900) NOT NULL,
    EVNT_DATE_S DATE NOT NULL,
    EVNT_DATE_E DATE NOT NULL,
    EVNT_ATT_NO NUMBER NULL CONSTRAINT FK_EVENT_ATT REFERENCES ATTACHMENT
);

CREATE TABLE CATEGORY (
    CAT_NO NUMBER CONSTRAINT PK_CATEGORY PRIMARY KEY,
    CAT_NAME VARCHAR(50) NOT NULL
);

CREATE TABLE PRODUCT (
    PRO_NO NUMBER CONSTRAINT PK_PRO PRIMARY KEY,
    PRO_NAME VARCHAR(300) NOT NULL UNIQUE,
    PRO_PRICE_S NUMBER NOT NULL,
    PRO_PRICE_E NUMBER NOT NULL,
    PRO_CAT_NO NUMBER NOT NULL CONSTRAINT FK_PRODUCT_CAT REFERENCES CATEGORY
);

CREATE TABLE INV (
    INV_NO NUMBER CONSTRAINT PK_INV PRIMARY KEY,
    INV_NAME VARCHAR2(300) NOT NULL CONSTRAINT FK_INV_NAME REFERENCES PRODUCT(PRO_NAME),
    INV_W_COUNT NUMBER NOT NULL,
    INV_S_COUNT NUMBER NOT NULL,
    INV_PRICE NUMBER NOT NULL,
    INV_CAT_NO NUMBER NOT NULL CONSTRAINT FK_INV_CAT REFERENCES CATEGORY
);

CREATE TABLE ORDER_ENTER (
    OE_NO NUMBER,
    OE_COUNT NUMBER NOT NULL,
    OE_PRICE_E NUMBER NOT NULL,
    ORDER_DATE DATE NOT NULL,
    ENTER_DATE DATE NULL,
    OE_STATUS CHAR(1) NOT NULL CHECK(OE_STATUS IN ('Y', 'N')),
    OE_INV_NO NUMBER NOT NULL CONSTRAINT FK_ORDER_NO REFERENCES PRODUCT,
    OE_NAME VARCHAR2(300) NOT NULL CONSTRAINT FK_ORDER_NAME REFERENCES PRODUCT(PRO_NAME),
    OE_CAT_NO NUMBER NOT NULL CONSTRAINT FK_ORDER_CAT REFERENCES CATEGORY,
    CONSTRAINT PK_ORDER PRIMARY KEY(OE_NO, OE_INV_NO)	
);

CREATE TABLE SALE (
    SALE_NO NUMBER CONSTRAINT PK_SALE PRIMARY KEY,
    SALE_COUNT NUMBER NOT NULL,
    SALE_PRICE NUMBER NOT NULL,
    SALE_DATE DATE NOT NULL,
    SALE_CAT_NO NUMBER NOT NULL CONSTRAINT FK_SALE_CAT REFERENCES CATEGORY,
    SALE_NAME VARCHAR2(300) NOT NULL CONSTRAINT FK_SALE_NAME REFERENCES PRODUCT(PRO_NAME)
);


COMMIT;

INSERT INTO MEMBER VALUES(1, 'test01', 'pass01', '891220-1111223', '김철수', 'test01@example.com', '010-1234-5656', '역삼점', '21/08/02', null);

INSERT INTO CATEGORY VALUES(1, '음료');
INSERT INTO CATEGORY VALUES(2, '냉동식품');
INSERT INTO CATEGORY VALUES(3, '간편식');
INSERT INTO CATEGORY VALUES(4, '과자');
INSERT INTO CATEGORY VALUES(5, '편의물품');

INSERT INTO PRODUCT VALUES(1,	'초록매실',	2300,	2185,	1);
INSERT INTO PRODUCT VALUES(2,	'아침에 주스 100% 오렌지',	3000,	2850,	1);
INSERT INTO PRODUCT VALUES(3,	'아침에 주스 100% 포도',	3000,	2850,	1);
INSERT INTO PRODUCT VALUES(4,	'파워에이드 1.5L',	3000,	2850,	1);
INSERT INTO PRODUCT VALUES(5,	'포카리 스웨트 500ml',	1680,	1596,	1);
INSERT INTO PRODUCT VALUES(6,	'아침햇살',	3000,	2850,	1);
INSERT INTO PRODUCT VALUES(7,	'비비고 고기만두',	6000,	5700,	2);
INSERT INTO PRODUCT VALUES(8,	'풀무원 얇은피 속이 꽉찬 고기만두',	5000,	4750,	2);
INSERT INTO PRODUCT VALUES(9,	'스팸 볶음밥',	3000,	2850,	2);
INSERT INTO PRODUCT VALUES(10,	'녹차마루',	700,	665,	2);
INSERT INTO PRODUCT VALUES(11,	'미트리 스팀 슬라이스 닭가슴살 오리지널',	1600,	1520,	2);
INSERT INTO PRODUCT VALUES(12,	'면사랑 크림우동',	3800,	3610,	2);
INSERT INTO PRODUCT VALUES(13,	'면양말',	2000,	1900,	3);
INSERT INTO PRODUCT VALUES(14,	'수면 양말',	2500,	2375,	3);
INSERT INTO PRODUCT VALUES(15,	'C핀 충전기',	7000,	6650,	3);
INSERT INTO PRODUCT VALUES(16,	'AAA 건전기',	2000,	1900,	3);
INSERT INTO PRODUCT VALUES(17,	'깨끗한 나라 물티슈', 2000,	1900,	3);
INSERT INTO PRODUCT VALUES(18,	'보솜이 물티슈',	1800,	1710,	3);
INSERT INTO PRODUCT VALUES(19,	'미쯔 초코맛',	1500,	1425,	4);
INSERT INTO PRODUCT VALUES(20,	'초코송이',	1500,	1425,	4);
INSERT INTO PRODUCT VALUES(21,	'하리보 콜라 젤리',	1000,	950,	4);
INSERT INTO PRODUCT VALUES(22,	'마이구미 복숭아 젤리',	1000,	950,	4);
INSERT INTO PRODUCT VALUES(23,	'썬칩 어니언 맛',	2000,	1900,	4);
INSERT INTO PRODUCT VALUES(24,	'프링글스 어니언 맛',	2500,	2375,	4);
INSERT INTO PRODUCT VALUES(25,	'미역국컵밥',	3500,	3325,	5);
INSERT INTO PRODUCT VALUES(26,	'참치마요 삼각김밥',	1200,	1140,	5);
INSERT INTO PRODUCT VALUES(27,	'참치김치 삼각김밥',	600,	570,	5);
INSERT INTO PRODUCT VALUES(28,	'인기가요 샌드위치',	2000,	1900,	5);
INSERT INTO PRODUCT VALUES(29,	'불닭볶음면',	1300,	1235,	5);
INSERT INTO PRODUCT VALUES(30,	'햇반',	1500,	1425,	5);


INSERT INTO INV VALUES(1,	'초록매실', 40, 40,	2300, 1);
INSERT INTO INV VALUES(2,	'아침에 주스 100% 오렌지',	  40, 40, 3000, 1);
INSERT INTO INV VALUES(3,	'아침에 주스 100% 포도',  40, 40,	3000, 1);
INSERT INTO INV VALUES(4,	'파워에이드 1.5L', 40, 40, 3000, 1);
INSERT INTO INV VALUES(5,	'포카리 스웨트 500ml', 40, 40,	1680, 1);
INSERT INTO INV VALUES(6,	'아침햇살', 40, 40,	3000, 1);
INSERT INTO INV VALUES(7,	'비비고 고기만두', 40, 40,	6000, 2);
INSERT INTO INV VALUES(8,	'풀무원 얇은피 속이 꽉찬 고기만두', 40, 40,	5000, 2);
INSERT INTO INV VALUES(9,	'스팸 볶음밥', 40, 40,	3000, 2);
INSERT INTO INV VALUES(10,	'녹차마루', 40, 40,	700, 2);
INSERT INTO INV VALUES(11,	'미트리 스팀 슬라이스 닭가슴살 오리지널', 40, 40,	1600, 2);
INSERT INTO INV VALUES(12,	'면사랑 크림우동', 40, 40,	3800, 2);
INSERT INTO INV VALUES(13,	'면양말', 40, 40,	2000, 3);
INSERT INTO INV VALUES(14,	'수면 양말', 40, 40,	2500, 3);
INSERT INTO INV VALUES(15,	'C핀 충전기', 40, 40, 	7000, 3);
INSERT INTO INV VALUES(16,	'AAA 건전기', 40, 40,	2000, 3);
INSERT INTO INV VALUES(17,	'깨끗한 나라 물티슈', 40, 40, 2000, 3);
INSERT INTO INV VALUES(18,	'보솜이 물티슈', 40, 40,	1800, 3);
INSERT INTO INV VALUES(19,	'미쯔 초코맛', 40, 40,	1500, 4);
INSERT INTO INV VALUES(20,	'초코송이', 40, 40,	1500, 4);
INSERT INTO INV VALUES(21,	'하리보 콜라 젤리', 40, 40,	1000, 4);
INSERT INTO INV VALUES(22,	'마이구미 복숭아 젤리', 40, 40,	1000, 4);
INSERT INTO INV VALUES(23,	'썬칩 어니언 맛', 40, 40,	2000, 4);
INSERT INTO INV VALUES(24,	'프링글스 어니언 맛', 40, 40,	2500, 4);
INSERT INTO INV VALUES(25,	'미역국컵밥', 40, 40,	3500, 5);
INSERT INTO INV VALUES(26,	'참치마요 삼각김밥', 40, 40,	1200, 5);
INSERT INTO INV VALUES(27,	'참치김치 삼각김밥', 40, 40,	600, 5);
INSERT INTO INV VALUES(28,	'인기가요 샌드위치', 40, 40,	2000, 5);
INSERT INTO INV VALUES(29,	'불닭볶음면', 40, 40,	1300, 5);
INSERT INTO INV VALUES(30,	'햇반', 40, 40,	1500, 5);

INSERT INTO SALE VALUES(1,	2,	4600,	'21/05/05',	1,	'초록매실');
INSERT INTO SALE VALUES(2,	3,	9000,	'21/05/05',	1,	'아침에 주스 100% 오렌지');
INSERT INTO SALE VALUES(3,	1,	3000,	'21/05/07',	1,	'아침에 주스 100% 포도');
INSERT INTO SALE VALUES(4,	1,	3000,	'21/05/07',	1,	'파워에이드 1.5L');
INSERT INTO SALE VALUES(5,	1,	1680,	'21/05/07',	1,	'포카리 스웨트 500ml');
INSERT INTO SALE VALUES(6,	5,	15000,	'21/05/15',	1,	'아침햇살');
INSERT INTO SALE VALUES(7,	6,	36000,	'21/05/15',	2,	'비비고 고기만두');
INSERT INTO SALE VALUES(8,	7,	35000,	'21/05/15',	2,	'풀무원 얇은피 속이 꽉찬 고기만두');
INSERT INTO SALE VALUES(9,	1,	3000,	'21/05/21',	2,	'스팸 볶음밥');
INSERT INTO SALE VALUES(10,	2,	1400,	'21/05/21',	2,	'녹차마루');
INSERT INTO SALE VALUES(11,	3,	4800,	'21/05/22',	2,	'미트리 스팀 슬라이스 닭가슴살 오리지널');
INSERT INTO SALE VALUES(12,	2,	7600,	'21/05/22',	2,	'면사랑 크림우동');
INSERT INTO SALE VALUES(13,	1,	2000,	'21/05/25',	3,	'면양말');
INSERT INTO SALE VALUES(14,	2,	5000,	'21/05/25',	3,	'수면 양말');
INSERT INTO SALE VALUES(15, 1,	7000,	'21/05/25',	3,	'C핀 충전기');
INSERT INTO SALE VALUES(16, 1,	2000,	'21/05/25',	3,	'AAA 건전기');
INSERT INTO SALE VALUES(17,	1,	2000,	'21/05/26',	3,	'깨끗한 나라 물티슈');
INSERT INTO SALE VALUES(18,	2,	3600,	'21/05/26',	3,	'보솜이 물티슈');
INSERT INTO SALE VALUES(19,	3,	4500,	'21/05/26',	4,	'미쯔 초코맛');
INSERT INTO SALE VALUES(20,	4,	6000,	'21/05/26',	4,	'초코송이');
INSERT INTO SALE VALUES(21,	1,	1000,	'21/05/29',	4,	'하리보 콜라 젤리');
INSERT INTO SALE VALUES(22,	2,	2000,	'21/05/29',	4,	'마이구미 복숭아 젤리');
INSERT INTO SALE VALUES(23,	3,	6000,	'21/06/01',	4,	'썬칩 어니언 맛');
INSERT INTO SALE VALUES(24,	4,	10000,	'21/06/01',	4,	'프링글스 어니언 맛');
INSERT INTO SALE VALUES(25,	1,	3500,	'21/06/01',	5,	'미역국컵밥');
INSERT INTO SALE VALUES(26,	2,	2400,	'21/06/05',	5,	'참치마요 삼각김밥');
INSERT INTO SALE VALUES(27,	1,	600,	'21/06/05',	5,	'참치김치 삼각김밥');
INSERT INTO SALE VALUES(28,	1,	2000,	'21/06/05',	5,	'인기가요 샌드위치');
INSERT INTO SALE VALUES(29,	2,	2600,	'21/06/05',	5,	'불닭볶음면');
INSERT INTO SALE VALUES(30,	1,	1500,	'21/06/05',	5,	'햇반');

INSERT INTO ORDER_ENTER VALUES(1,	50, 71250, '21/05/05',	'21/05/07',	'Y',	19,	'미쯔 초코맛',4);
INSERT INTO ORDER_ENTER VALUES(1,	50,	71250, '21/05/05',	'21/05/07',	'Y',	20,	'초코송이',	4);
INSERT INTO ORDER_ENTER VALUES(2,	50,	47500, '21/05/07',	'21/05/15',	'Y',	21,	'하리보 콜라 젤리',	4);
INSERT INTO ORDER_ENTER VALUES(2,	50,	79800, '21/05/07',	'21/05/15',	'Y',	5,	'포카리 스웨트 500ml',	1);
INSERT INTO ORDER_ENTER VALUES(2,	30,	85500, '21/05/07',	'21/05/15',	'Y',	6,	'아침햇살',	1);
INSERT INTO ORDER_ENTER VALUES(3,	30,	171000, '21/05/15',	'21/05/21',	'Y',	7,	'비비고 고기만두',	2);
INSERT INTO ORDER_ENTER VALUES(3,	30,	142500, '21/05/15',	'21/05/21',	'Y',	8,	'풀무원 얇은피 속이 꽉찬 고기만두',	2);
INSERT INTO ORDER_ENTER VALUES(3,	30,	65550, '21/05/15',	'21/05/21',	'Y',	1,	'초록매실',	1);
INSERT INTO ORDER_ENTER VALUES(4,	30,	85500, '21/05/21',	'21/05/22',	'Y',	2,	'아침에 주스 100% 오렌지',	1);
INSERT INTO ORDER_ENTER VALUES(4,	30,	85500, '21/05/21',	'21/05/22',	'Y',	3,	'아침에 주스 100% 포도',	1);
INSERT INTO ORDER_ENTER VALUES(5,	30,	85500, '21/05/22',	'21/05/25',	'Y',	4,	'파워에이드 1.5L', 1);
INSERT INTO ORDER_ENTER VALUES(5,	30,	47880, '21/05/22',	'21/05/25',	'Y',	5,	'포카리 스웨트 500ml',	1);
INSERT INTO ORDER_ENTER VALUES(6,	50,	180500, '21/05/25',	'21/05/26',	'Y',	12,	'면사랑 크림우동',	2);
INSERT INTO ORDER_ENTER VALUES(6,	50,	95000, '21/05/25',	'21/05/26',	'Y',	13,	'면양말',	3);
INSERT INTO ORDER_ENTER VALUES(6,	50,	118750, '21/05/25',	'21/05/26',	'Y',	14,	'수면 양말',	3);
INSERT INTO ORDER_ENTER VALUES(6,	20,	133000, '21/05/25',	'21/05/26',	'Y',	15,	'C핀 충전기',	3);
INSERT INTO ORDER_ENTER VALUES(7,	20,	38000, '21/05/26',	'21/05/29',	'Y',	16,	'AAA 건전기',	3);
INSERT INTO ORDER_ENTER VALUES(7,	50,	95000, '21/05/26',	'21/05/29',	'Y',	17,	'깨끗한 나라 물티슈',	3);
INSERT INTO ORDER_ENTER VALUES(7,	50,	85500, '21/05/26',	'21/05/29',	'Y',	18,	'보솜이 물티슈',	3);
INSERT INTO ORDER_ENTER VALUES(7,	50,	71250, '21/05/26',	'21/05/29',	'Y',	19,	'미쯔 초코맛',	4);
INSERT INTO ORDER_ENTER VALUES(8,	30,	42750, '21/05/29',	'21/06/01',	'Y',	20,	'초코송이',	4);
INSERT INTO ORDER_ENTER VALUES(8,	30,	28500, '21/05/29',	'21/06/01',	'Y',	21,	'하리보 콜라 젤리',	4);
INSERT INTO ORDER_ENTER VALUES(9,	30,	28500, '21/06/01',	'21/06/05',	'Y',	22,	'마이구미 복숭아 젤리',	4);
INSERT INTO ORDER_ENTER VALUES(9,	30,	57000, '21/06/01',	'21/06/05',	'Y',	23,	'썬칩 어니언 맛',	4);
INSERT INTO ORDER_ENTER VALUES(9,	50,	118750, '21/06/01',	'21/06/05',	'Y',	24,	'프링글스 어니언 맛',	4);
INSERT INTO ORDER_ENTER VALUES(10,	50,	166250, '21/06/05',		NULL, 'N',  25,	'미역국컵밥',	5);
INSERT INTO ORDER_ENTER VALUES(10,	40,	45600, '21/06/05',		NULL, 'N',	26,	'참치마요 삼각김밥', 5);
INSERT INTO ORDER_ENTER VALUES(10,	40,	22800, '21/06/05',		NULL, 'N',	27,	'참치김치 삼각김밥', 5);
INSERT INTO ORDER_ENTER VALUES(10,	40,	76000, '21/06/05',		NULL, 'N',	28,	'인기가요 샌드위치',	5);
INSERT INTO ORDER_ENTER VALUES(10,	40,	49400, '21/06/05',		NULL, 'N',	29,	'불닭볶음면',	5);
INSERT INTO ORDER_ENTER VALUES(10,	40,	57000, '21/06/05',		NULL, 'N',	30,	'햇반',	5);



COMMIT;